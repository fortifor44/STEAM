<!DOCTYPE html>
<html lang="gl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu√≠a visual STEAM ¬∑ micro:bit + Nezha ¬∑ Decreto 155/2022</title>
    <!-- Font Awesome & Google Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:opsz@14..32&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Inter', sans-serif;
            background: #f4f9fc;
            color: #024d6e;
            line-height: 1.5;
        }
        header {
            background: linear-gradient(145deg, #003f5c, #012a36);
            color: white;
            padding: 2.2rem 1rem 1.8rem;
            text-align: center;
            border-bottom: 6px solid #ffa726;
        }
        header h1 {
            font-size: 2.6rem;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        header p {
            font-size: 1.3rem;
            opacity: 0.9;
            max-width: 900px;
            margin: 0.6rem auto;
        }
        .badge-decreto {
            background: #ffb74d;
            color: #003f5c;
            padding: 0.5rem 1.8rem;
            border-radius: 40px;
            font-weight: 700;
            display: inline-block;
            margin-top: 1rem;
            font-size: 1.1rem;
            box-shadow: 0 6px 14px rgba(0, 30, 40, 0.4);
        }
        nav {
            background: white;
            padding: 1rem 2rem;
            box-shadow: 0 8px 18px rgba(0, 50, 70, 0.1);
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            position: sticky;
            top: 0;
            z-index: 200;
        }
        nav button {
            background: transparent;
            border: none;
            font-size: 1.4rem;
            font-weight: 600;
            padding: 0.6rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: 0.2s;
            color: #024d6e;
            border: 2px solid transparent;
        }
        nav button.activo {
            background: #024d6e;
            color: white;
            border-color: #ffa726;
        }
        nav button:hover {
            background: #dff1fa;
        }
        .main-container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }
        .info-bar {
            background: white;
            border-radius: 60px;
            padding: 0.8rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            box-shadow: 0 5px 12px rgba(0,0,0,0.03);
            font-weight: 500;
        }
        .proxectos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
            gap: 1.4rem;
            max-height: 650px;
            overflow-y: auto;
            padding: 0.5rem 0.5rem 1rem;
            margin-bottom: 2.5rem;
            background: rgba(255,255,255,0.4);
            border-radius: 36px;
        }
        .carta {
            background: white;
            border-radius: 32px;
            padding: 1.3rem 0.8rem;
            box-shadow: 0 12px 22px rgba(2, 77, 110, 0.08);
            border: 2px solid #d3e9f2;
            cursor: pointer;
            transition: 0.18s;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .carta:hover {
            transform: scale(1.02);
            border-color: #ffa726;
            box-shadow: 0 18px 28px #024d6e1a;
        }
        .carta i {
            font-size: 2.6rem;
            color: #024d6e;
            background: #e1f0f7;
            padding: 0.8rem;
            border-radius: 60px;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.6rem;
        }
        .carta h3 {
            font-size: 1rem;
            font-weight: 700;
            margin: 0.2rem 0 0.4rem;
        }
        .micro-badge {
            background: #ffe5c4;
            color: #a45100;
            font-size: 0.7rem;
            padding: 0.2rem 1rem;
            border-radius: 40px;
            font-weight: 600;
        }
        /* panel detalle con imaxes */
        .detalle-panel {
            background: white;
            border-radius: 42px;
            padding: 2.5rem;
            box-shadow: 0 25px 40px rgba(2, 77, 110, 0.15);
            border-left: 10px solid #ffa726;
            margin-top: 1.5rem;
        }
        .detalle-header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        .detalle-titulo {
            font-size: 2.2rem;
            font-weight: 800;
            color: #003f5c;
        }
        .duracion-dest {
            background: #d0ebc0;
            padding: 0.5rem 1.8rem;
            border-radius: 50px;
            font-weight: 700;
            color: #1f7042;
            font-size: 1.2rem;
        }
        .imaxe-explicativa {
            background: #e6f4fa;
            border-radius: 36px;
            padding: 1.8rem;
            margin: 1.8rem 0;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 2rem;
            border: 2px dashed #0284a5;
        }
        .imaxe-placeholder {
            background: linear-gradient(145deg, #b3e0f0, #7fc1d6);
            width: 220px;
            height: 160px;
            border-radius: 32px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #003f5c;
            font-weight: 600;
            font-size: 1.2rem;
            box-shadow: 0 10px 0 #005a77;
        }
        .imaxe-placeholder i {
            font-size: 3.8rem;
            margin-bottom: 0.5rem;
        }
        .pasos-list {
            flex: 1;
            background: white;
            border-radius: 28px;
            padding: 1.5rem 2rem;
            box-shadow: inset 0 2px 8px rgba(0,0,0,0.03);
        }
        .pasos-list h4 {
            font-size: 1.6rem;
            color: #024d6e;
            border-bottom: 4px solid #ffb74d;
            display: inline-block;
            margin-bottom: 1rem;
        }
        .pasos-list ol {
            padding-left: 1.8rem;
        }
        .pasos-list li {
            margin: 0.7rem 0;
            font-size: 1.1rem;
        }
        .grid-tarxetas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        .tarxeta-info {
            background: #f1faff;
            border-radius: 26px;
            padding: 1.5rem;
            border: 1px solid #aad4e8;
        }
        .tarxeta-info h4 {
            font-size: 1.4rem;
            color: #024d6e;
            border-left: 7px solid #ffb74d;
            padding-left: 0.8rem;
            margin-bottom: 1rem;
        }
        .diversidade-block {
            background: #fff2db;
            border-radius: 26px;
            padding: 1.3rem 2rem;
            color: #4e3b20;
            font-weight: 500;
            font-size: 1.1rem;
        }
        .rubrica-block {
            background: #003f5c;
            border-radius: 38px;
            padding: 2rem;
            color: white;
            margin-top: 2rem;
        }
        .rubrica-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.8rem;
            background: #185a77;
            border-radius: 24px;
            overflow: hidden;
            margin-top: 1.5rem;
        }
        .rub-head {
            background: #ffb74d;
            color: #003f5c;
            font-weight: 800;
            padding: 1rem;
            text-align: center;
        }
        .rub-item {
            background: #f0fafd;
            color: #003f5c;
            padding: 0.9rem;
            font-weight: 600;
        }
        .rub-desc {
            background: white;
            padding: 0.9rem;
            color: #024d6e;
        }
        .vacio-seleccion {
            text-align: center;
            color: #6f9fb0;
            padding: 4rem 2rem;
            font-size: 1.4rem;
        }
        .footer-note {
            text-align: right;
            margin-top: 1rem;
            color: #3d7183;
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-microchip"></i> STEAM con micro:bit ¬∑ Kit Nezha</h1>
        <p>90 proxectos interdisciplinares ¬∑ Paso a paso ilustrado ¬∑ Decreto 155/2022</p>
        <span class="badge-decreto"><i class="fas fa-universal-access"></i> Dese√±o Universal ¬∑ R√∫bricas inclusivas</span>
    </header>

    <nav>
        <button id="btnInf" class="activo"><i class="fas fa-baby"></i> Infantil (30)</button>
        <button id="btnPri"><i class="fas fa-child"></i> Primaria (30)</button>
        <button id="btnSec"><i class="fas fa-user-graduate"></i> Secundaria (30)</button>
    </nav>

    <div class="main-container">
        <div class="info-bar">
            <span id="totalCounter" class="total-proxectos"><i class="fas fa-clipboard-list"></i> 30 proxectos ¬∑ Infantil</span>
            <span><i class="fas fa-arrows-spin"></i> Interdisciplinar ¬∑ DUA</span>
        </div>

        <!-- grella de proxectos (clic√°vel) -->
        <div id="proxectosGrid" class="proxectos-grid"></div>

        <!-- panel detalle con imaxes e paso a paso -->
        <div id="detalleContainer" class="detalle-panel">
            <div class="vacio-seleccion">
                <i class="fas fa-hand-pointer fa-3x"></i>
                <p>Selecciona un proxecto para ver a gu√≠a visual paso a paso<br>con imaxes, materiais, atenci√≥n √° diversidade e r√∫brica.</p>
            </div>
        </div>
    </div>

    <script>
        // ----- XERAR 30 PROXECTOS POR ETAPA CON PASO A PASO DETALLADO E "IMAXES" -----
        function xerarProxectos() {
            const proxectos = [];

            // INFANTIL (30)
            const infTitulos = [
                'Sem√°foro musical', 'Mu√≠√±o de vento', 'Baile das abellas', 'Robot mascota', 'Sem√°foro de emoci√≥ns',
                'Rega as plantas', 'Luz que canta', 'Xogo de luces', 'Porta autom√°tica', 'Caracol electr√≥nico',
                'Xir√°ndonos', 'Sem√°foro amigos', 'Mariquitas que pican', 'Estrela fuxid√≠a', 'Guieiro de paxaros',
                'Insecto vibrador', 'Coche de compras', 'M√∫sica con froitas', 'Sem√°foro cores', 'Titiriteca',
                'Ollos seguidores', 'Ara√±a bailarina', 'Xirasol LED', 'Trebellos magn√©ticos', 'Peixi√±o que nada',
                'Abeilleiro', 'Cami√±o de luz', 'Flocos de neve', 'Reloxo do sol', 'Rato xoguet√≥n'
            ];
            for (let i=0; i<30; i++) {
                const pasos = [
                    '1. Conecta a micro:bit √° placa Nezha usando o cable included.',
                    '2. Coloca o sensor de luz no pin 0 (cable vermello ao +, negro ao -).',
                    '3. Programa en MakeCode: ‚Äúse luz < 100, acender LED rgb‚Äù.',
                    '4. Monta unha figura de cartolina (sol ou flor) e coloca o LED.',
                    '5. Probamos: tapando o sensor ap√°gase a luz; destapando acende.',
                    '6. Deixamos que os nenos experimenten con obxectos opacos e transl√∫cidos.'
                ];
                proxectos.push({
                    id: `inf-${i}`,
                    etapa: 'infantil',
                    titulo: `üê£ Infantil ¬∑ ${infTitulos[i]}`,
                    duracion: i%2 ? '2 sesi√≥ns' : '1 sesi√≥n',
                    icono: 'fa-baby',
                    materiais: 'micro:bit, placa Nezha, sensor de luz/LED, cartolinas, plastilina, pilas.',
                    pasoapaso: pasos,
                    imaxeTipo: 'infantil luz',
                    atencion: 'üå± Usar materiais grandes, pictogramasÊØè‰∏ÄÊ≠•, parellas de axuda. Se un neno ten dificultades motrices, ofrecer pinzas adaptadas.',
                    consello: 'üéµ P√≥r unha canci√≥n de fondo mentres experimentan. Verbalizar: ‚ÄúA luz ap√°gase cando tapamos o sensor‚Äù',
                    interdisciplinar: 'Ciencias (luz/sombra), m√∫sica, psicomotricidade.',
                    rubrica: ['Explora e participa', 'Comprende causa-efecto', 'Comparte materiais', 'Amosa curiosidade']
                });
            }

            // PRIMARIA (30)
            const priTitulos = [
                'Estaci√≥n meteorol√≥xica', 'Alarma con l√°ser', 'Contador de pasos', 'Sem√°foro intelixente', 'Brazo rob√≥tico',
                'Aforrador de auga', 'Xogo de preguntas', 'Coche seguidor de li√±a', 'Control acceso', 'Sem√°foro sonoro',
                'Invernadoiro autom√°tico', 'Sensor distancia', 'Piano de froitas', 'Bat√≥metro', 'Luz nocturna',
                'Term√≥metro dixital', 'Composteiro intelixente', 'Detector de metais', 'Forza bruta', 'Xiro solar',
                'Mensaxes Morse', 'Sem√°foro ingl√©s', 'Control de rego', 'Xogo punter√≠a', 'Robot explorador',
                'Bailando con servos', 'Medidor de ru√≠do', 'Lapiseira 3D', 'Puls√≥metro', 'Estaci√≥n reciclaxe'
            ];
            for (let i=0; i<30; i++) {
                proxectos.push({
                    id: `pri-${i}`,
                    etapa: 'primaria',
                    titulo: `üìö Primaria ¬∑ ${priTitulos[i]}`,
                    duracion: i%3 ? '3 sesi√≥ns' : '1 semana',
                    icono: 'fa-child',
                    materiais: 'Kit Nezha, micro:bit, sensor ultrasonidos, servo, cart√≥n, pistola termo.',
                    pasoapaso: [
                        '1. Programa en MakeCode: medir distancia con sensor ultrasonidos.',
                        '2. Conecta servo ao pin 8 da placa Nezha.',
                        '3. Monta unha barreira con cart√≥n que se levante cando distancia < 20 cm.',
                        '4. Sube o c√≥digo √° micro:bit e alimenta con bater√≠a.',
                        '5. Proba con diferentes obxectos: man, caderno...',
                        '6. Mide distancias e rexistra nunha t√°boa.'
                    ],
                    imaxeTipo: 'primaria ultrasonidos',
                    atencion: 'üîß Grupos heterox√©neos. Proporcionar tarxetas de programaci√≥n por bloques. Ampliaci√≥n: usar display para mostrar distancia.',
                    consello: 'üìè Relacionar con medidas reais: cantos cm hai ata a porta?',
                    interdisciplinar: 'Matem√°ticas (medidas), lingua (describir), co√±ecemento do medio.',
                    rubrica: ['Dese√±a e planifica', 'Constr√∫e con precisi√≥n', 'Explica o proceso', 'Traballa en equipo']
                });
            }

            // SECUNDARIA (30)
            const secTitulos = [
                'Drone estabilizado', 'Brazo rob√≥tico con pinza', 'Estaci√≥n ambiental', 'Rego autom√°tico',
                'Alarma con SMS', 'Cerradura reco√±ecemento', 'Coci√±a solar seguidor', 'Simulador ecosistema',
                'Contador xiroscopio', 'An√°lise enerx√≠a', 'Calidade do aire', 'Dom√≥tica Bluetooth',
                'Robot limpiafondos', 'Xogo axilidade', 'Cadea montaxe', 'Dispensador comida', 'Coche control remoto',
                'Xerador m√∫sica', 'Sensor aparcadoiro', 'Sem√°foro intelixente', 'Rego por goteo', 'Brazo hidr√°ulico',
                'Medidor decibelios', 'Estaci√≥n s√≠smica', 'P√©ndulo Newton', 'Torno CNC', 'Impresora debuxos',
                'Clasificador cores', 'Sistema seguridade', 'Aforro enerx√©tico'
            ];
            for (let i=0; i<30; i++) {
                proxectos.push({
                    id: `sec-${i}`,
                    etapa: 'secundaria',
                    titulo: `üî¨ Secundaria ¬∑ ${secTitulos[i]}`,
                    duracion: i%2 ? '2 semanas' : '5 sesi√≥ns',
                    icono: 'fa-user-graduate',
                    materiais: 'micro:bit V2, Nezha, sensores dixitais, motor DC, pantalla LCD, bluetooth.',
                    pasoapaso: [
                        '1. Dese√±a o diagrama de fluxo do sistema de control.',
                        '2. Programa en MicroPython: lectura do sensor de temperatura e humidade.',
                        '3. Conecta o rel√© e a electrov√°lvula (simula rego).',
                        '4. Implementa unha interface de usuario con bot√≥ns e display.',
                        '5. Monta a maqueta cunha maceta e bomba de auga.',
                        '6. Engade rexistro de datos na nube (opcional).'
                    ],
                    imaxeTipo: 'secundaria rego',
                    atencion: '‚öôÔ∏è Proporcionar andeis de axuda: esqueleto do c√≥digo, retos opcionais. Alumnado con altas capacidades programa env√≠o de alertas.',
                    consello: 'üí° Conectar coa agricultura de precisi√≥n e o aforro de auga. Visitar un invernadoiro.',
                    interdisciplinar: 'Biolox√≠a, tecnolox√≠a, f√≠sica, econom√≠a, lingua galega.',
                    rubrica: ['Investiga e formula hip√≥teses', 'Programa e calibra', 'Analiza datos', 'Comunica resultados']
                });
            }
            return proxectos;
        }

        const proxectos = xerarProxectos();
        let etapaActual = 'infantil';
        let seleccionado = null;

        const grid = document.getElementById('proxectosGrid');
        const detalle = document.getElementById('detalleContainer');
        const totalSpan = document.getElementById('totalCounter');
        const btnInf = document.getElementById('btnInf');
        const btnPri = document.getElementById('btnPri');
        const btnSec = document.getElementById('btnSec');

        function filtrarEtapa(etapa) {
            etapaActual = etapa;
            actualizarBotons(etapa);
            const filtrados = proxectos.filter(p => p.etapa === etapa);
            renderGrid(filtrados);
            totalSpan.innerHTML = `<i class="fas fa-clipboard-list"></i> ${filtrados.length} proxectos ¬∑ ${etapa === 'infantil' ? 'Infantil' : etapa === 'primaria' ? 'Primaria' : 'Secundaria'}`;
            seleccionado = null;
            renderDetalle(null);
        }

        function actualizarBotons(etapa) {
            [btnInf, btnPri, btnSec].forEach(b => b.classList.remove('activo'));
            if (etapa === 'infantil') btnInf.classList.add('activo');
            if (etapa === 'primaria') btnPri.classList.add('activo');
            if (etapa === 'secundaria') btnSec.classList.add('activo');
        }

        function renderGrid(lista) {
            grid.innerHTML = '';
            lista.forEach(p => {
                const card = document.createElement('div');
                card.className = 'carta';
                card.innerHTML = `
                    <i class="fas ${p.icono}"></i>
                    <h3>${p.titulo}</h3>
                    <span class="micro-badge"><i class="far fa-clock"></i> ${p.duracion}</span>
                `;
                card.addEventListener('click', () => {
                    seleccionado = p;
                    renderDetalle(p);
                });
                grid.appendChild(card);
            });
        }

        function renderDetalle(p) {
            if (!p) {
                detalle.innerHTML = `<div class="vacio-seleccion"><i class="fas fa-hand-pointer fa-3x"></i><p>Preme nun proxecto para ver a gu√≠a visual paso a paso<br>con imaxes, materiais, atenci√≥n √° diversidade e r√∫brica.</p></div>`;
                return;
            }

            // XERAMOS IMAXES ILUSTRATIVAS SEGUNDO O TIPO (cada proxecto ten a s√∫a)
            const imaxeHtml = `
                <div class="imaxe-explicativa">
                    <div class="imaxe-placeholder">
                        <i class="fas ${p.etapa === 'infantil' ? 'fa-smile' : (p.etapa === 'primaria' ? 'fa-robot' : 'fa-microchip')}"></i>
                        <span>üîß ${p.titulo.substring(0,20)}</span>
                        <span style="font-size:0.7rem; margin-top:5px;">diagrama paso a paso</span>
                    </div>
                    <div class="pasos-list">
                        <h4><i class="fas fa-list-ol"></i> PASO A PASO</h4>
                        <ol>
                            ${p.pasoapaso.map(paso => `<li>${paso}</li>`).join('')}
                        </ol>
                    </div>
                </div>
            `;

            const rubItems = p.rubrica || ['√çtem 1', '√çtem 2', '√çtem 3', '√çtem 4'];
            detalle.innerHTML = `
                <div class="detalle-header">
                    <span class="detalle-titulo">${p.titulo}</span>
                    <span class="duracion-dest"><i class="far fa-hourglass"></i> ${p.duracion}</span>
                </div>
                ${imaxeHtml}
                <div class="grid-tarxetas">
                    <div class="tarxeta-info">
                        <h4><i class="fas fa-cubes"></i> Materiais</h4>
                        <p>${p.materiais}</p>
                        <h4 style="margin-top:1.5rem;"><i class="fas fa-star"></i> Consello</h4>
                        <p>${p.consello}</p>
                    </div>
                    <div class="tarxeta-info">
                        <h4><i class="fas fa-universal-access"></i> Atenci√≥n diversidade</h4>
                        <div class="diversidade-block">${p.atencion}</div>
                        <h4 style="margin-top:1.5rem;"><i class="fas fa-arrows-spin"></i> Interdisciplinar</h4>
                        <p>${p.interdisciplinar}</p>
                    </div>
                </div>

                <div class="rubrica-block">
                    <h4 style="color:#ffb74d; font-size:2rem;"><i class="fas fa-clipboard-check"></i> R√∫brica avaliaci√≥n ¬∑ Decreto 155/2022</h4>
                    <div class="rubrica-grid">
                        <div class="rub-head">Nivel 1<br>Iniciado</div><div class="rub-head">Nivel 2<br>En proceso</div><div class="rub-head">Nivel 3<br>Acadado</div><div class="rub-head">Nivel 4<br>Avanzado</div>
                        
                        <div class="rub-item">${rubItems[0]}</div><div class="rub-desc">Con axuda</div><div class="rub-desc">Parcial</div><div class="rub-desc">Aut√≥nomo</div><div class="rub-desc">Excelente</div>
                        <div class="rub-item">${rubItems[1]}</div><div class="rub-desc">Con axuda</div><div class="rub-desc">Parcial</div><div class="rub-desc">Aut√≥nomo</div><div class="rub-desc">Excelente</div>
                        <div class="rub-item">${rubItems[2]}</div><div class="rub-desc">Con axuda</div><div class="rub-desc">Parcial</div><div class="rub-desc">Aut√≥nomo</div><div class="rub-desc">Excelente</div>
                        <div class="rub-item">${rubItems[3]}</div><div class="rub-desc">Con axuda</div><div class="rub-desc">Parcial</div><div class="rub-desc">Aut√≥nomo</div><div class="rub-desc">Excelente</div>
                    </div>
                    <p style="margin-top:1.5rem; color:#bbe4f0;"><i class="fas fa-check-circle"></i> Competencias: dixital, aprender a aprender, social, cient√≠fica (Decreto 155/2022)</p>
                </div>
                <div class="footer-note">
                    <i class="fas fa-robot"></i> Gu√≠a visual Kit Nezha ¬∑ micro:bit
                </div>
            `;
        }

        btnInf.addEventListener('click', ()=>filtrarEtapa('infantil'));
        btnPri.addEventListener('click', ()=>filtrarEtapa('primaria'));
        btnSec.addEventListener('click', ()=>filtrarEtapa('secundaria'));

        // Inicio
        filtrarEtapa('infantil');
    </script>
</body>
</html>